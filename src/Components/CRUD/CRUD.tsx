import { useEffect } from "react";
import { useDispatch, useSelector } from "react-redux";
import { GET_DATA_FIREBASE } from "../HELPERS/FIREBASE_METHOD";
import { MENU } from "../MENU/MENU";
import { getDataFibase } from "../redux/slices";

export const CRUD = () => {
  const dispatch = useDispatch();

  const { crud = [] } = useSelector((store: any) => store.crud);

  const GET_FIREBASE = async () => {
    const data = await GET_DATA_FIREBASE();
    dispatch(getDataFibase(data));
  };

  useEffect(() => {
    GET_FIREBASE();
  }, []);

  return (
    <>
    <MENU/>
      {crud.map((item: any) => (
        <div key={item.id}>
          <p>
            {item.name} - {item.age}
            <button>
              <i className="fa-solid fa-arrows-rotate"></i>
            </button>
            <button>
              <i className="fa-solid fa-trash-can"></i>
            </button>
          </p>
        </div>
      ))}
    </>
  );
};
